train_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.train.txt
valid_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.valid.txt
logdir:./log_dir/pos.bsize400.epoch150.seqlen16.static_lr.fixed_mask.present0.5.partition2.hidden512/
epoch:0 test_present_rate:0.5 test_bleu:11.33626326918602 template_bleu:32.497718930244446
epoch:0 test_present_rate:0.5 train_bleu:11.138670891523361 template_bleu:32.187262177467346
step:1 source:(400, 17) loss:8.78164 lr:0.000066
step:201 source:(400, 17) loss:4.66109 lr:0.000066
step:401 source:(400, 17) loss:4.44465 lr:0.000066
step:601 source:(400, 17) loss:4.28536 lr:0.000066
step:801 source:(400, 17) loss:4.21945 lr:0.000066
step:1001 source:(400, 17) loss:4.19544 lr:0.000066
step:1201 source:(400, 17) loss:4.15243 lr:0.000066
epoch:5 test_present_rate:0.5 test_bleu:35.550832748413086 template_bleu:32.497718930244446
epoch:5 test_present_rate:0.5 train_bleu:35.08858382701874 template_bleu:32.187262177467346
step:1401 source:(400, 17) loss:4.05174 lr:0.000066
step:1601 source:(400, 17) loss:3.89022 lr:0.000066
step:1801 source:(400, 17) loss:3.91361 lr:0.000066
step:2001 source:(400, 17) loss:3.88182 lr:0.000066
step:2201 source:(400, 17) loss:3.80122 lr:0.000066
step:2401 source:(400, 17) loss:3.82492 lr:0.000066
step:2601 source:(400, 17) loss:3.75643 lr:0.000066
epoch:10 test_present_rate:0.5 test_bleu:37.93216049671173 template_bleu:32.497718930244446
epoch:10 test_present_rate:0.5 train_bleu:37.32408583164215 template_bleu:32.187262177467346
step:2801 source:(400, 17) loss:3.72855 lr:0.000066
step:3001 source:(400, 17) loss:3.65238 lr:0.000066
step:3201 source:(400, 17) loss:3.6323 lr:0.000066
step:3401 source:(400, 17) loss:3.66352 lr:0.000066
step:3601 source:(400, 17) loss:3.6982 lr:0.000066
step:3801 source:(400, 17) loss:3.64253 lr:0.000066
epoch:15 test_present_rate:0.5 test_bleu:39.7992342710495 template_bleu:32.497718930244446
epoch:15 test_present_rate:0.5 train_bleu:38.9735221862793 template_bleu:32.187262177467346
step:4001 source:(400, 17) loss:3.60039 lr:0.000066
step:4201 source:(400, 17) loss:3.56253 lr:0.000066
step:4401 source:(400, 17) loss:3.54754 lr:0.000066
step:4601 source:(400, 17) loss:3.52142 lr:0.000066
step:4801 source:(400, 17) loss:3.55115 lr:0.000066
step:5001 source:(400, 17) loss:3.489 lr:0.000066
step:5201 source:(400, 17) loss:3.39622 lr:0.000066
epoch:20 test_present_rate:0.5 test_bleu:41.45341217517853 template_bleu:32.497718930244446
epoch:20 test_present_rate:0.5 train_bleu:40.39543867111206 template_bleu:32.187262177467346
step:5401 source:(400, 17) loss:3.4828 lr:0.000066
step:5601 source:(400, 17) loss:3.41734 lr:0.000066
step:5801 source:(400, 17) loss:3.47091 lr:0.000066
step:6001 source:(400, 17) loss:3.35829 lr:0.000066
step:6201 source:(400, 17) loss:3.37954 lr:0.000066
step:6401 source:(400, 17) loss:3.31981 lr:0.000066
epoch:25 test_present_rate:0.5 test_bleu:42.45024621486664 template_bleu:32.497718930244446
epoch:25 test_present_rate:0.5 train_bleu:41.728413105010986 template_bleu:32.187262177467346
step:6601 source:(400, 17) loss:3.36002 lr:0.000066
step:6801 source:(400, 17) loss:3.32197 lr:0.000066
step:7001 source:(400, 17) loss:3.28536 lr:0.000066
step:7201 source:(400, 17) loss:3.37883 lr:0.000066
step:7401 source:(400, 17) loss:3.31605 lr:0.000066
step:7601 source:(400, 17) loss:3.21347 lr:0.000066
step:7801 source:(400, 17) loss:3.24084 lr:0.000066
epoch:30 test_present_rate:0.5 test_bleu:43.21675002574921 template_bleu:32.497718930244446
epoch:30 test_present_rate:0.5 train_bleu:42.7357941865921 template_bleu:32.187262177467346
step:8001 source:(400, 17) loss:3.28903 lr:0.000066
step:8201 source:(400, 17) loss:3.18372 lr:0.000066
step:8401 source:(400, 17) loss:3.18485 lr:0.000066
step:8601 source:(400, 17) loss:3.23187 lr:0.000066
step:8801 source:(400, 17) loss:3.21817 lr:0.000066
step:9001 source:(400, 17) loss:3.10704 lr:0.000066
epoch:35 test_present_rate:0.5 test_bleu:43.32138001918793 template_bleu:32.497718930244446
epoch:35 test_present_rate:0.5 train_bleu:43.47647428512573 template_bleu:32.187262177467346
step:9201 source:(400, 17) loss:3.18634 lr:0.000066
step:9401 source:(400, 17) loss:3.14416 lr:0.000066
step:9601 source:(400, 17) loss:3.16935 lr:0.000066
step:9801 source:(400, 17) loss:3.15389 lr:0.000066
step:10001 source:(400, 17) loss:3.17915 lr:0.000066
step:10201 source:(400, 17) loss:3.18626 lr:0.000066
step:10401 source:(400, 17) loss:3.08299 lr:0.000066
epoch:40 test_present_rate:0.5 test_bleu:43.8073992729187 template_bleu:32.497718930244446
epoch:40 test_present_rate:0.5 train_bleu:44.09666359424591 template_bleu:32.187262177467346
step:10601 source:(400, 17) loss:3.18285 lr:0.000066
step:10801 source:(400, 17) loss:3.08547 lr:0.000066
step:11001 source:(400, 17) loss:3.1446 lr:0.000066
step:11201 source:(400, 17) loss:3.14802 lr:0.000066
step:11401 source:(400, 17) loss:3.13435 lr:0.000066
step:11601 source:(400, 17) loss:3.09373 lr:0.000066
epoch:45 test_present_rate:0.5 test_bleu:44.40169930458069 template_bleu:32.497718930244446
epoch:45 test_present_rate:0.5 train_bleu:44.63236927986145 template_bleu:32.187262177467346
step:11801 source:(400, 17) loss:3.0836 lr:0.000066
step:12001 source:(400, 17) loss:3.10041 lr:0.000066
step:12201 source:(400, 17) loss:3.06611 lr:0.000066
step:12401 source:(400, 17) loss:3.06625 lr:0.000066
step:12601 source:(400, 17) loss:3.02924 lr:0.000066
step:12801 source:(400, 17) loss:3.10685 lr:0.000066
step:13001 source:(400, 17) loss:3.08911 lr:0.000066
epoch:50 test_present_rate:0.5 test_bleu:44.18517351150513 template_bleu:32.497718930244446
epoch:50 test_present_rate:0.5 train_bleu:45.07238566875458 template_bleu:32.187262177467346
step:13201 source:(400, 17) loss:3.09 lr:0.000066
step:13401 source:(400, 17) loss:3.05088 lr:0.000066
step:13601 source:(400, 17) loss:3.06355 lr:0.000066
step:13801 source:(400, 17) loss:3.09156 lr:0.000066
step:14001 source:(400, 17) loss:3.02741 lr:0.000066
step:14201 source:(400, 17) loss:3.0606 lr:0.000066
epoch:55 test_present_rate:0.5 test_bleu:44.722962379455566 template_bleu:32.497718930244446
epoch:55 test_present_rate:0.5 train_bleu:45.5509215593338 template_bleu:32.187262177467346
step:14401 source:(400, 17) loss:2.98247 lr:0.000066
step:14601 source:(400, 17) loss:2.97195 lr:0.000066
step:14801 source:(400, 17) loss:2.98903 lr:0.000066
step:15001 source:(400, 17) loss:3.05476 lr:0.000066
step:15201 source:(400, 17) loss:3.00689 lr:0.000066
step:15401 source:(400, 17) loss:3.04239 lr:0.000066
step:15601 source:(400, 17) loss:3.02535 lr:0.000066
epoch:60 test_present_rate:0.5 test_bleu:45.07547914981842 template_bleu:32.497718930244446
epoch:60 test_present_rate:0.5 train_bleu:45.96039652824402 template_bleu:32.187262177467346
step:15801 source:(400, 17) loss:2.9944 lr:0.000066
step:16001 source:(400, 17) loss:3.03475 lr:0.000066
step:16201 source:(400, 17) loss:2.96711 lr:0.000066
step:16401 source:(400, 17) loss:2.96486 lr:0.000066
step:16601 source:(400, 17) loss:2.94134 lr:0.000066
step:16801 source:(400, 17) loss:2.96815 lr:0.000066
epoch:65 test_present_rate:0.5 test_bleu:45.380568504333496 template_bleu:32.497718930244446
epoch:65 test_present_rate:0.5 train_bleu:46.26200497150421 template_bleu:32.187262177467346
step:17001 source:(400, 17) loss:2.9833 lr:0.000066
step:17201 source:(400, 17) loss:3.00882 lr:0.000066
step:17401 source:(400, 17) loss:2.95241 lr:0.000066
step:17601 source:(400, 17) loss:2.96582 lr:0.000066
step:17801 source:(400, 17) loss:3.00959 lr:0.000066
step:18001 source:(400, 17) loss:2.97087 lr:0.000066
step:18201 source:(400, 17) loss:2.9761 lr:0.000066
epoch:70 test_present_rate:0.5 test_bleu:45.06518542766571 template_bleu:32.497718930244446
epoch:70 test_present_rate:0.5 train_bleu:46.49224877357483 template_bleu:32.187262177467346
step:18401 source:(400, 17) loss:2.98153 lr:0.000066
step:18601 source:(400, 17) loss:3.00769 lr:0.000066
step:18801 source:(400, 17) loss:3.00772 lr:0.000066
step:19001 source:(400, 17) loss:2.92298 lr:0.000066
step:19201 source:(400, 17) loss:2.89596 lr:0.000066
step:19401 source:(400, 17) loss:2.95869 lr:0.000066
epoch:75 test_present_rate:0.5 test_bleu:45.279672741889954 template_bleu:32.497718930244446
epoch:75 test_present_rate:0.5 train_bleu:46.78955376148224 template_bleu:32.187262177467346
step:19601 source:(400, 17) loss:2.94433 lr:0.000066
step:19801 source:(400, 17) loss:2.95176 lr:0.000066
step:20001 source:(400, 17) loss:2.97155 lr:0.000066
step:20201 source:(400, 17) loss:2.92629 lr:0.000066
step:20401 source:(400, 17) loss:3.0286 lr:0.000066
step:20601 source:(400, 17) loss:2.94471 lr:0.000066
step:20801 source:(400, 17) loss:2.94082 lr:0.000066
epoch:80 test_present_rate:0.5 test_bleu:45.586416125297546 template_bleu:32.497718930244446
epoch:80 test_present_rate:0.5 train_bleu:47.22122848033905 template_bleu:32.187262177467346
step:21001 source:(400, 17) loss:2.92667 lr:0.000066
step:21201 source:(400, 17) loss:2.8646 lr:0.000066
step:21401 source:(400, 17) loss:2.87608 lr:0.000066
step:21601 source:(400, 17) loss:2.95597 lr:0.000066
step:21801 source:(400, 17) loss:2.91038 lr:0.000066
step:22001 source:(400, 17) loss:2.93064 lr:0.000066
epoch:85 test_present_rate:0.5 test_bleu:45.76507806777954 template_bleu:32.497718930244446
epoch:85 test_present_rate:0.5 train_bleu:47.54326939582825 template_bleu:32.187262177467346
step:22201 source:(400, 17) loss:2.8622 lr:0.000066
step:22401 source:(400, 17) loss:2.88996 lr:0.000066
step:22601 source:(400, 17) loss:2.91838 lr:0.000066
step:22801 source:(400, 17) loss:2.90976 lr:0.000066
step:23001 source:(400, 17) loss:2.87262 lr:0.000066
step:23201 source:(400, 17) loss:2.90576 lr:0.000066
step:23401 source:(400, 17) loss:2.9388 lr:0.000066
epoch:90 test_present_rate:0.5 test_bleu:45.80196440219879 template_bleu:32.497718930244446
epoch:90 test_present_rate:0.5 train_bleu:47.73162603378296 template_bleu:32.187262177467346
step:23601 source:(400, 17) loss:2.91195 lr:0.000066
step:23801 source:(400, 17) loss:2.84721 lr:0.000066
step:24001 source:(400, 17) loss:2.92779 lr:0.000066
step:24201 source:(400, 17) loss:2.85418 lr:0.000066
step:24401 source:(400, 17) loss:2.83138 lr:0.000066
step:24601 source:(400, 17) loss:2.88176 lr:0.000066
epoch:95 test_present_rate:0.5 test_bleu:45.7857221364975 template_bleu:32.497718930244446
epoch:95 test_present_rate:0.5 train_bleu:47.93718159198761 template_bleu:32.187262177467346
step:24801 source:(400, 17) loss:2.85037 lr:0.000066
step:25001 source:(400, 17) loss:2.92516 lr:0.000066
step:25201 source:(400, 17) loss:2.84539 lr:0.000066
step:25401 source:(400, 17) loss:2.87638 lr:0.000066
step:25601 source:(400, 17) loss:2.89714 lr:0.000066
step:25801 source:(400, 17) loss:2.90248 lr:0.000066
step:26001 source:(400, 17) loss:2.87109 lr:0.000066
epoch:100 test_present_rate:0.5 test_bleu:45.8762526512146 template_bleu:32.497718930244446
epoch:100 test_present_rate:0.5 train_bleu:48.232194781303406 template_bleu:32.187262177467346
step:26201 source:(400, 17) loss:2.87853 lr:0.000066
step:26401 source:(400, 17) loss:2.87198 lr:0.000066
step:26601 source:(400, 17) loss:2.84436 lr:0.000066
step:26801 source:(400, 17) loss:2.83424 lr:0.000066
step:27001 source:(400, 17) loss:2.87977 lr:0.000066
step:27201 source:(400, 17) loss:2.85941 lr:0.000066
step:27401 source:(400, 17) loss:2.84996 lr:0.000066
epoch:105 test_present_rate:0.5 test_bleu:45.64591348171234 template_bleu:32.497718930244446
epoch:105 test_present_rate:0.5 train_bleu:48.299798369407654 template_bleu:32.187262177467346
step:27601 source:(400, 17) loss:2.84374 lr:0.000066
step:27801 source:(400, 17) loss:2.86357 lr:0.000066
step:28001 source:(400, 17) loss:2.85857 lr:0.000066
step:28201 source:(400, 17) loss:2.84993 lr:0.000066
step:28401 source:(400, 17) loss:2.82012 lr:0.000066
step:28601 source:(400, 17) loss:2.8731 lr:0.000066
epoch:110 test_present_rate:0.5 test_bleu:46.59210741519928 template_bleu:32.497718930244446
epoch:110 test_present_rate:0.5 train_bleu:48.90159368515015 template_bleu:32.187262177467346
step:28801 source:(400, 17) loss:2.85776 lr:0.000066
step:29001 source:(400, 17) loss:2.77487 lr:0.000066
step:29201 source:(400, 17) loss:2.81643 lr:0.000066
step:29401 source:(400, 17) loss:2.83772 lr:0.000066
step:29601 source:(400, 17) loss:2.81663 lr:0.000066
step:29801 source:(400, 17) loss:2.81937 lr:0.000066
step:30001 source:(400, 17) loss:2.93299 lr:0.000066
epoch:115 test_present_rate:0.5 test_bleu:42.451974749565125 template_bleu:32.497718930244446
epoch:115 test_present_rate:0.5 train_bleu:43.96703541278839 template_bleu:32.187262177467346
step:30201 source:(400, 17) loss:2.85336 lr:0.000066
step:30401 source:(400, 17) loss:2.81647 lr:0.000066
step:30601 source:(400, 17) loss:2.9166 lr:0.000066
step:30801 source:(400, 17) loss:2.85164 lr:0.000066
step:31001 source:(400, 17) loss:2.88274 lr:0.000066
step:31201 source:(400, 17) loss:2.81166 lr:0.000066
epoch:120 test_present_rate:0.5 test_bleu:45.92004716396332 template_bleu:32.497718930244446
epoch:120 test_present_rate:0.5 train_bleu:49.09875988960266 template_bleu:32.187262177467346
step:31401 source:(400, 17) loss:2.889 lr:0.000066
step:31601 source:(400, 17) loss:2.83698 lr:0.000066
step:31801 source:(400, 17) loss:2.77692 lr:0.000066
step:32001 source:(400, 17) loss:2.84428 lr:0.000066
step:32201 source:(400, 17) loss:2.77317 lr:0.000066
step:32401 source:(400, 17) loss:2.82484 lr:0.000066
step:32601 source:(400, 17) loss:2.81645 lr:0.000066
epoch:125 test_present_rate:0.5 test_bleu:40.358734130859375 template_bleu:32.497718930244446
epoch:125 test_present_rate:0.5 train_bleu:41.1314994096756 template_bleu:32.187262177467346
step:32801 source:(400, 17) loss:2.84267 lr:0.000066
step:33001 source:(400, 17) loss:2.86141 lr:0.000066
step:33201 source:(400, 17) loss:2.83433 lr:0.000066
step:33401 source:(400, 17) loss:2.8754 lr:0.000066
step:33601 source:(400, 17) loss:2.82976 lr:0.000066
step:33801 source:(400, 17) loss:2.84645 lr:0.000066
epoch:130 test_present_rate:0.5 test_bleu:45.66483497619629 template_bleu:32.497718930244446
epoch:130 test_present_rate:0.5 train_bleu:48.65405857563019 template_bleu:32.187262177467346
step:34001 source:(400, 17) loss:2.81228 lr:0.000066
step:34201 source:(400, 17) loss:2.82918 lr:0.000066
step:34401 source:(400, 17) loss:2.8003 lr:0.000066
step:34601 source:(400, 17) loss:2.77711 lr:0.000066
step:34801 source:(400, 17) loss:2.83465 lr:0.000066
step:35001 source:(400, 17) loss:2.82546 lr:0.000066
step:35201 source:(400, 17) loss:2.74448 lr:0.000066
epoch:135 test_present_rate:0.5 test_bleu:42.70177483558655 template_bleu:32.497718930244446
epoch:135 test_present_rate:0.5 train_bleu:44.227197766304016 template_bleu:32.187262177467346
step:35401 source:(400, 17) loss:2.85972 lr:0.000066
step:35601 source:(400, 17) loss:2.88264 lr:0.000066
step:35801 source:(400, 17) loss:2.81631 lr:0.000066
step:36001 source:(400, 17) loss:2.79399 lr:0.000066
step:36201 source:(400, 17) loss:2.79081 lr:0.000066
step:36401 source:(400, 17) loss:2.81181 lr:0.000066
epoch:140 test_present_rate:0.5 test_bleu:38.19955885410309 template_bleu:32.497718930244446
epoch:140 test_present_rate:0.5 train_bleu:38.409122824668884 template_bleu:32.187262177467346
step:36601 source:(400, 17) loss:2.82316 lr:0.000066
step:36801 source:(86, 17) loss:2.02578 lr:0.000066
step:37001 source:(400, 17) loss:2.77607 lr:0.000066
step:37201 source:(400, 17) loss:2.81653 lr:0.000066
step:37401 source:(400, 17) loss:2.74168 lr:0.000066
step:37601 source:(400, 17) loss:2.81859 lr:0.000066
step:37801 source:(400, 17) loss:2.82648 lr:0.000066
epoch:145 test_present_rate:0.5 test_bleu:26.35660171508789 template_bleu:32.497718930244446
epoch:145 test_present_rate:0.5 train_bleu:25.396928191184998 template_bleu:32.187262177467346
step:38001 source:(400, 17) loss:2.80779 lr:0.000066
step:38201 source:(400, 17) loss:2.82154 lr:0.000066
step:38401 source:(400, 17) loss:2.77915 lr:0.000066
step:38601 source:(400, 17) loss:2.8408 lr:0.000066
step:38801 source:(400, 17) loss:2.73059 lr:0.000066
epoch:149 test_present_rate:0.5 test_bleu:35.59597730636597 template_bleu:32.497718930244446
epoch:149 test_present_rate:0.5 train_bleu:36.49512529373169 template_bleu:32.187262177467346
step:39001 source:(400, 17) loss:2.7871 lr:0.000066
/home/syp/miniconda2/envs/newtf/lib/python3.6/importlib/_bootstrap.py:205: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
/home/syp/miniconda2/envs/newtf/lib/python3.6/site-packages/numpy/lib/function_base.py:1110: RuntimeWarning: Mean of empty slice.
  avg = a.mean(axis)
/home/syp/miniconda2/envs/newtf/lib/python3.6/site-packages/numpy/core/_methods.py:80: RuntimeWarning: invalid value encountered in double_scalars
  ret = ret.dtype.type(ret / rcount)
