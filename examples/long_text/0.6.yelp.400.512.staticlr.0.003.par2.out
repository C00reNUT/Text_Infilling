train_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.train.txt
valid_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.valid.txt
logdir:./log_dir/pos.bsize400.epoch150.seqlen16.static_lr.fixed_mask.present0.6.partition2.hidden512/
epoch:0 test_present_rate:0.6 test_bleu:14.391641318798065 template_bleu:38.278621435165405
epoch:0 test_present_rate:0.6 train_bleu:14.178626239299774 template_bleu:37.767183780670166
step:1 source:(400, 17) loss:8.63585 lr:0.000080
step:201 source:(400, 17) loss:4.47857 lr:0.000080
step:401 source:(400, 17) loss:4.27121 lr:0.000080
step:601 source:(400, 17) loss:4.17332 lr:0.000080
step:801 source:(400, 17) loss:4.12963 lr:0.000080
step:1001 source:(400, 17) loss:4.10421 lr:0.000080
step:1201 source:(400, 17) loss:4.06813 lr:0.000080
epoch:5 test_present_rate:0.6 test_bleu:45.906755328178406 template_bleu:38.278621435165405
epoch:5 test_present_rate:0.6 train_bleu:45.50726115703583 template_bleu:37.767183780670166
step:1401 source:(400, 17) loss:3.91869 lr:0.000080
step:1601 source:(400, 17) loss:3.80791 lr:0.000080
step:1801 source:(400, 17) loss:3.82332 lr:0.000080
step:2001 source:(400, 17) loss:3.75132 lr:0.000080
step:2201 source:(400, 17) loss:3.66708 lr:0.000080
step:2401 source:(400, 17) loss:3.63748 lr:0.000080
step:2601 source:(400, 17) loss:3.61729 lr:0.000080
epoch:10 test_present_rate:0.6 test_bleu:50.10259747505188 template_bleu:38.278621435165405
epoch:10 test_present_rate:0.6 train_bleu:49.82207417488098 template_bleu:37.767183780670166
step:2801 source:(400, 17) loss:3.51609 lr:0.000080
step:3001 source:(400, 17) loss:3.38853 lr:0.000080
step:3201 source:(400, 17) loss:3.40468 lr:0.000080
step:3401 source:(400, 17) loss:3.42696 lr:0.000080
step:3601 source:(400, 17) loss:3.45134 lr:0.000080
step:3801 source:(400, 17) loss:3.40872 lr:0.000080
epoch:15 test_present_rate:0.6 test_bleu:52.544862031936646 template_bleu:38.278621435165405
epoch:15 test_present_rate:0.6 train_bleu:52.391111850738525 template_bleu:37.767183780670166
step:4001 source:(400, 17) loss:3.31295 lr:0.000080
step:4201 source:(400, 17) loss:3.28973 lr:0.000080
step:4401 source:(400, 17) loss:3.28965 lr:0.000080
step:4601 source:(400, 17) loss:3.24574 lr:0.000080
step:4801 source:(400, 17) loss:3.25643 lr:0.000080
step:5001 source:(400, 17) loss:3.21726 lr:0.000080
step:5201 source:(400, 17) loss:3.14697 lr:0.000080
epoch:20 test_present_rate:0.6 test_bleu:54.00722026824951 template_bleu:38.278621435165405
epoch:20 test_present_rate:0.6 train_bleu:53.966617584228516 template_bleu:37.767183780670166
step:5401 source:(400, 17) loss:3.20436 lr:0.000080
step:5601 source:(400, 17) loss:3.17562 lr:0.000080
step:5801 source:(400, 17) loss:3.17473 lr:0.000080
step:6001 source:(400, 17) loss:3.12595 lr:0.000080
step:6201 source:(400, 17) loss:3.12213 lr:0.000080
step:6401 source:(400, 17) loss:3.09286 lr:0.000080
epoch:25 test_present_rate:0.6 test_bleu:54.963892698287964 template_bleu:38.278621435165405
epoch:25 test_present_rate:0.6 train_bleu:55.15469312667847 template_bleu:37.767183780670166
step:6601 source:(400, 17) loss:3.1077 lr:0.000080
step:6801 source:(400, 17) loss:3.07017 lr:0.000080
step:7001 source:(400, 17) loss:3.03801 lr:0.000080
step:7201 source:(400, 17) loss:3.13855 lr:0.000080
step:7401 source:(400, 17) loss:3.0805 lr:0.000080
step:7601 source:(400, 17) loss:2.97032 lr:0.000080
step:7801 source:(400, 17) loss:2.97999 lr:0.000080
epoch:30 test_present_rate:0.6 test_bleu:55.54419755935669 template_bleu:38.278621435165405
epoch:30 test_present_rate:0.6 train_bleu:56.03266358375549 template_bleu:37.767183780670166
step:8001 source:(400, 17) loss:3.02471 lr:0.000080
step:8201 source:(400, 17) loss:2.9626 lr:0.000080
step:8401 source:(400, 17) loss:2.93868 lr:0.000080
step:8601 source:(400, 17) loss:2.96438 lr:0.000080
step:8801 source:(400, 17) loss:2.98445 lr:0.000080
step:9001 source:(400, 17) loss:2.89242 lr:0.000080
epoch:35 test_present_rate:0.6 test_bleu:55.70034980773926 template_bleu:38.278621435165405
epoch:35 test_present_rate:0.6 train_bleu:56.67652487754822 template_bleu:37.767183780670166
step:9201 source:(400, 17) loss:3.0089 lr:0.000080
step:9401 source:(400, 17) loss:2.93523 lr:0.000080
step:9601 source:(400, 17) loss:2.90293 lr:0.000080
step:9801 source:(400, 17) loss:2.91254 lr:0.000080
step:10001 source:(400, 17) loss:2.93466 lr:0.000080
step:10201 source:(400, 17) loss:2.9165 lr:0.000080
step:10401 source:(400, 17) loss:2.84887 lr:0.000080
epoch:40 test_present_rate:0.6 test_bleu:55.995190143585205 template_bleu:38.278621435165405
epoch:40 test_present_rate:0.6 train_bleu:57.41084814071655 template_bleu:37.767183780670166
step:10601 source:(400, 17) loss:2.91173 lr:0.000080
step:10801 source:(400, 17) loss:2.8479 lr:0.000080
step:11001 source:(400, 17) loss:2.89111 lr:0.000080
step:11201 source:(400, 17) loss:2.90583 lr:0.000080
step:11401 source:(400, 17) loss:2.89297 lr:0.000080
step:11601 source:(400, 17) loss:2.88679 lr:0.000080
epoch:45 test_present_rate:0.6 test_bleu:56.3420295715332 template_bleu:38.278621435165405
epoch:45 test_present_rate:0.6 train_bleu:58.001041412353516 template_bleu:37.767183780670166
step:11801 source:(400, 17) loss:2.86223 lr:0.000080
step:12001 source:(400, 17) loss:2.86914 lr:0.000080
step:12201 source:(400, 17) loss:2.84833 lr:0.000080
step:12401 source:(400, 17) loss:2.81772 lr:0.000080
step:12601 source:(400, 17) loss:2.82356 lr:0.000080
step:12801 source:(400, 17) loss:2.8639 lr:0.000080
step:13001 source:(400, 17) loss:2.81141 lr:0.000080
epoch:50 test_present_rate:0.6 test_bleu:56.505775451660156 template_bleu:38.278621435165405
epoch:50 test_present_rate:0.6 train_bleu:58.71283411979675 template_bleu:37.767183780670166
step:13201 source:(400, 17) loss:2.8177 lr:0.000080
step:13401 source:(400, 17) loss:2.78203 lr:0.000080
step:13601 source:(400, 17) loss:2.79465 lr:0.000080
step:13801 source:(400, 17) loss:2.80871 lr:0.000080
step:14001 source:(400, 17) loss:2.77188 lr:0.000080
step:14201 source:(400, 17) loss:2.81472 lr:0.000080
epoch:55 test_present_rate:0.6 test_bleu:56.58077597618103 template_bleu:38.278621435165405
epoch:55 test_present_rate:0.6 train_bleu:59.308481216430664 template_bleu:37.767183780670166
step:14401 source:(400, 17) loss:2.72005 lr:0.000080
step:14601 source:(400, 17) loss:2.71627 lr:0.000080
step:14801 source:(400, 17) loss:2.75787 lr:0.000080
step:15001 source:(400, 17) loss:2.77709 lr:0.000080
step:15201 source:(400, 17) loss:2.76331 lr:0.000080
step:15401 source:(400, 17) loss:2.7694 lr:0.000080
step:15601 source:(400, 17) loss:2.75331 lr:0.000080
epoch:60 test_present_rate:0.6 test_bleu:56.81552290916443 template_bleu:38.278621435165405
epoch:60 test_present_rate:0.6 train_bleu:59.80071425437927 template_bleu:37.767183780670166
step:15801 source:(400, 17) loss:2.76081 lr:0.000080
step:16001 source:(400, 17) loss:2.74629 lr:0.000080
step:16201 source:(400, 17) loss:2.74913 lr:0.000080
step:16401 source:(400, 17) loss:2.68534 lr:0.000080
step:16601 source:(400, 17) loss:2.68522 lr:0.000080
step:16801 source:(400, 17) loss:2.74003 lr:0.000080
epoch:65 test_present_rate:0.6 test_bleu:57.236313819885254 template_bleu:38.278621435165405
epoch:65 test_present_rate:0.6 train_bleu:60.15799641609192 template_bleu:37.767183780670166
step:17001 source:(400, 17) loss:2.74579 lr:0.000080
step:17201 source:(400, 17) loss:2.73567 lr:0.000080
step:17401 source:(400, 17) loss:2.66295 lr:0.000080
step:17601 source:(400, 17) loss:2.66448 lr:0.000080
step:17801 source:(400, 17) loss:2.70916 lr:0.000080
step:18001 source:(400, 17) loss:2.74137 lr:0.000080
step:18201 source:(400, 17) loss:2.71087 lr:0.000080
epoch:70 test_present_rate:0.6 test_bleu:57.16567635536194 template_bleu:38.278621435165405
epoch:70 test_present_rate:0.6 train_bleu:60.81247329711914 template_bleu:37.767183780670166
step:18401 source:(400, 17) loss:2.73491 lr:0.000080
step:18601 source:(400, 17) loss:2.76946 lr:0.000080
step:18801 source:(400, 17) loss:2.66058 lr:0.000080
step:19001 source:(400, 17) loss:2.71262 lr:0.000080
step:19201 source:(400, 17) loss:2.6359 lr:0.000080
step:19401 source:(400, 17) loss:2.66059 lr:0.000080
epoch:75 test_present_rate:0.6 test_bleu:57.32893943786621 template_bleu:38.278621435165405
epoch:75 test_present_rate:0.6 train_bleu:61.387085914611816 template_bleu:37.767183780670166
step:19601 source:(400, 17) loss:2.67543 lr:0.000080
step:19801 source:(400, 17) loss:2.69942 lr:0.000080
step:20001 source:(400, 17) loss:2.68366 lr:0.000080
step:20201 source:(400, 17) loss:2.68085 lr:0.000080
step:20401 source:(400, 17) loss:2.77527 lr:0.000080
step:20601 source:(400, 17) loss:2.70852 lr:0.000080
step:20801 source:(400, 17) loss:2.67604 lr:0.000080
epoch:80 test_present_rate:0.6 test_bleu:57.33098387718201 template_bleu:38.278621435165405
epoch:80 test_present_rate:0.6 train_bleu:61.759549379348755 template_bleu:37.767183780670166
step:21001 source:(400, 17) loss:2.63402 lr:0.000080
step:21201 source:(400, 17) loss:2.6144 lr:0.000080
step:21401 source:(400, 17) loss:2.60041 lr:0.000080
step:21601 source:(400, 17) loss:2.65326 lr:0.000080
step:21801 source:(400, 17) loss:2.61244 lr:0.000080
step:22001 source:(400, 17) loss:2.67267 lr:0.000080
epoch:85 test_present_rate:0.6 test_bleu:57.696568965911865 template_bleu:38.278621435165405
epoch:85 test_present_rate:0.6 train_bleu:62.20073103904724 template_bleu:37.767183780670166
step:22201 source:(400, 17) loss:2.61726 lr:0.000080
step:22401 source:(400, 17) loss:2.62402 lr:0.000080
step:22601 source:(400, 17) loss:2.61163 lr:0.000080
step:22801 source:(400, 17) loss:2.60541 lr:0.000080
step:23001 source:(400, 17) loss:2.61598 lr:0.000080
step:23201 source:(400, 17) loss:2.67925 lr:0.000080
step:23401 source:(400, 17) loss:2.68714 lr:0.000080
epoch:90 test_present_rate:0.6 test_bleu:56.837064027786255 template_bleu:38.278621435165405
epoch:90 test_present_rate:0.6 train_bleu:60.93842387199402 template_bleu:37.767183780670166
step:23601 source:(400, 17) loss:2.62815 lr:0.000080
step:23801 source:(400, 17) loss:2.54508 lr:0.000080
step:24001 source:(400, 17) loss:2.67621 lr:0.000080
step:24201 source:(400, 17) loss:2.58952 lr:0.000080
step:24401 source:(400, 17) loss:2.5605 lr:0.000080
step:24601 source:(400, 17) loss:2.55501 lr:0.000080
epoch:95 test_present_rate:0.6 test_bleu:57.8163206577301 template_bleu:38.278621435165405
epoch:95 test_present_rate:0.6 train_bleu:62.809813022613525 template_bleu:37.767183780670166
step:24801 source:(400, 17) loss:2.56858 lr:0.000080
step:25001 source:(400, 17) loss:2.64097 lr:0.000080
step:25201 source:(400, 17) loss:2.58346 lr:0.000080
step:25401 source:(400, 17) loss:2.56057 lr:0.000080
step:25601 source:(400, 17) loss:2.61148 lr:0.000080
step:25801 source:(400, 17) loss:2.59665 lr:0.000080
step:26001 source:(400, 17) loss:2.55144 lr:0.000080
epoch:100 test_present_rate:0.6 test_bleu:42.341455817222595 template_bleu:38.278621435165405
epoch:100 test_present_rate:0.6 train_bleu:43.3515340089798 template_bleu:37.767183780670166
step:26201 source:(400, 17) loss:2.69937 lr:0.000080
step:26401 source:(400, 17) loss:2.62364 lr:0.000080
step:26601 source:(400, 17) loss:2.57568 lr:0.000080
step:26801 source:(400, 17) loss:2.55481 lr:0.000080
step:27001 source:(400, 17) loss:2.59133 lr:0.000080
step:27201 source:(400, 17) loss:2.59015 lr:0.000080
step:27401 source:(400, 17) loss:2.55769 lr:0.000080
epoch:105 test_present_rate:0.6 test_bleu:37.668412923812866 template_bleu:38.278621435165405
epoch:105 test_present_rate:0.6 train_bleu:38.693687319755554 template_bleu:37.767183780670166
step:27601 source:(400, 17) loss:2.51915 lr:0.000080
step:27801 source:(400, 17) loss:2.57276 lr:0.000080
step:28001 source:(400, 17) loss:2.5735 lr:0.000080
step:28201 source:(400, 17) loss:2.53715 lr:0.000080
step:28401 source:(400, 17) loss:2.5194 lr:0.000080
step:28601 source:(400, 17) loss:2.56234 lr:0.000080
epoch:110 test_present_rate:0.6 test_bleu:58.01563262939453 template_bleu:38.278621435165405
epoch:110 test_present_rate:0.6 train_bleu:64.38764929771423 template_bleu:37.767183780670166
step:28801 source:(400, 17) loss:2.55627 lr:0.000080
step:29001 source:(400, 17) loss:2.53653 lr:0.000080
step:29201 source:(400, 17) loss:2.51169 lr:0.000080
step:29401 source:(400, 17) loss:2.50756 lr:0.000080
step:29601 source:(400, 17) loss:2.53712 lr:0.000080
step:29801 source:(400, 17) loss:2.55026 lr:0.000080
step:30001 source:(400, 17) loss:2.57623 lr:0.000080
epoch:115 test_present_rate:0.6 test_bleu:36.469483375549316 template_bleu:38.278621435165405
epoch:115 test_present_rate:0.6 train_bleu:37.52407729625702 template_bleu:37.767183780670166
step:30201 source:(400, 17) loss:2.5304 lr:0.000080
step:30401 source:(400, 17) loss:2.53131 lr:0.000080
step:30601 source:(400, 17) loss:2.56585 lr:0.000080
step:30801 source:(400, 17) loss:2.53223 lr:0.000080
step:31001 source:(400, 17) loss:2.56891 lr:0.000080
step:31201 source:(400, 17) loss:2.51124 lr:0.000080
epoch:120 test_present_rate:0.6 test_bleu:39.2147570848465 template_bleu:38.278621435165405
epoch:120 test_present_rate:0.6 train_bleu:41.15478694438934 template_bleu:37.767183780670166
step:31401 source:(400, 17) loss:2.52491 lr:0.000080
step:31601 source:(400, 17) loss:2.55356 lr:0.000080
step:31801 source:(400, 17) loss:2.46641 lr:0.000080
step:32001 source:(400, 17) loss:2.51242 lr:0.000080
step:32201 source:(400, 17) loss:2.46864 lr:0.000080
step:32401 source:(400, 17) loss:2.49987 lr:0.000080
step:32601 source:(400, 17) loss:2.53849 lr:0.000080
epoch:125 test_present_rate:0.6 test_bleu:53.77640724182129 template_bleu:38.278621435165405
epoch:125 test_present_rate:0.6 train_bleu:56.553393602371216 template_bleu:37.767183780670166
step:32801 source:(400, 17) loss:2.49488 lr:0.000080
step:33001 source:(400, 17) loss:2.53179 lr:0.000080
step:33201 source:(400, 17) loss:2.48173 lr:0.000080
step:33401 source:(400, 17) loss:2.52616 lr:0.000080
step:33601 source:(400, 17) loss:2.53112 lr:0.000080
step:33801 source:(400, 17) loss:2.47647 lr:0.000080
epoch:130 test_present_rate:0.6 test_bleu:55.06512522697449 template_bleu:38.278621435165405
epoch:130 test_present_rate:0.6 train_bleu:60.55925488471985 template_bleu:37.767183780670166
step:34001 source:(400, 17) loss:2.47659 lr:0.000080
step:34201 source:(400, 17) loss:2.50539 lr:0.000080
step:34401 source:(400, 17) loss:2.4798 lr:0.000080
step:34601 source:(400, 17) loss:2.41652 lr:0.000080
step:34801 source:(400, 17) loss:2.48798 lr:0.000080
step:35001 source:(400, 17) loss:2.45867 lr:0.000080
step:35201 source:(400, 17) loss:2.43179 lr:0.000080
epoch:135 test_present_rate:0.6 test_bleu:58.16302299499512 template_bleu:38.278621435165405
epoch:135 test_present_rate:0.6 train_bleu:66.49641394615173 template_bleu:37.767183780670166
step:35401 source:(400, 17) loss:2.46381 lr:0.000080
step:35601 source:(400, 17) loss:2.50884 lr:0.000080
step:35801 source:(400, 17) loss:2.4933 lr:0.000080
step:36001 source:(400, 17) loss:2.42528 lr:0.000080
step:36201 source:(400, 17) loss:2.4539 lr:0.000080
step:36401 source:(400, 17) loss:2.46811 lr:0.000080
epoch:140 test_present_rate:0.6 test_bleu:58.452361822128296 template_bleu:38.278621435165405
epoch:140 test_present_rate:0.6 train_bleu:66.10650420188904 template_bleu:37.767183780670166
step:36601 source:(400, 17) loss:2.45549 lr:0.000080
step:36801 source:(86, 17) loss:1.72769 lr:0.000080
step:37001 source:(400, 17) loss:2.43789 lr:0.000080
step:37201 source:(400, 17) loss:2.48248 lr:0.000080
step:37401 source:(400, 17) loss:2.41389 lr:0.000080
step:37601 source:(400, 17) loss:2.47248 lr:0.000080
step:37801 source:(400, 17) loss:2.40859 lr:0.000080
epoch:145 test_present_rate:0.6 test_bleu:58.69954824447632 template_bleu:38.278621435165405
epoch:145 test_present_rate:0.6 train_bleu:67.10864901542664 template_bleu:37.767183780670166
step:38001 source:(400, 17) loss:2.41559 lr:0.000080
step:38201 source:(400, 17) loss:2.54435 lr:0.000080
step:38401 source:(400, 17) loss:2.43927 lr:0.000080
step:38601 source:(400, 17) loss:2.48542 lr:0.000080
step:38801 source:(400, 17) loss:2.34916 lr:0.000080
epoch:149 test_present_rate:0.6 test_bleu:58.421772718429565 template_bleu:38.278621435165405
epoch:149 test_present_rate:0.6 train_bleu:67.21575260162354 template_bleu:37.767183780670166
step:39001 source:(400, 17) loss:2.44362 lr:0.000080
/home/syp/miniconda2/envs/newtf/lib/python3.6/importlib/_bootstrap.py:205: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
/home/syp/miniconda2/envs/newtf/lib/python3.6/site-packages/numpy/lib/function_base.py:1110: RuntimeWarning: Mean of empty slice.
  avg = a.mean(axis)
/home/syp/miniconda2/envs/newtf/lib/python3.6/site-packages/numpy/core/_methods.py:80: RuntimeWarning: invalid value encountered in double_scalars
  ret = ret.dtype.type(ret / rcount)
