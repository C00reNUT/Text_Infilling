train_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.train.txt
valid_file:/home/syp/zwr/txtgen/examples/long_text/yelp_data/pos/pos.valid.txt
logdir:./log_dir/pos.bsize400.epoch150.seqlen16.dynamic_lr.fixed_mask.present0.7.partition1.hidden512.seq2seq/
epoch:0 test_bleu:31.310248374938965 template_bleu:63.916170597076416
epoch:0 train_bleu:31.022894382476807 template_bleu:63.75228762626648
step:1 source:(400, 17) loss:7.97266 lr:0.000000
step:201 source:(400, 17) loss:5.07587 lr:0.000009
step:401 source:(400, 17) loss:4.6854 lr:0.000018
step:601 source:(400, 17) loss:4.68789 lr:0.000027
step:801 source:(400, 17) loss:4.63325 lr:0.000035
step:1001 source:(400, 17) loss:4.70111 lr:0.000044
step:1201 source:(400, 17) loss:4.63883 lr:0.000053
epoch:5 test_bleu:65.30001163482666 template_bleu:63.916170597076416
epoch:5 train_bleu:65.23215174674988 template_bleu:63.75228762626648
step:1401 source:(400, 17) loss:4.67094 lr:0.000062
step:1601 source:(400, 17) loss:4.48195 lr:0.000071
step:1801 source:(400, 17) loss:4.60365 lr:0.000080
step:2001 source:(400, 17) loss:4.65022 lr:0.000088
step:2201 source:(400, 17) loss:4.55254 lr:0.000097
step:2401 source:(400, 17) loss:4.44857 lr:0.000106
step:2601 source:(400, 17) loss:4.46261 lr:0.000115
epoch:10 test_bleu:65.9684419631958 template_bleu:63.916170597076416
epoch:10 train_bleu:65.73616862297058 template_bleu:63.75228762626648
step:2801 source:(400, 17) loss:4.34214 lr:0.000124
step:3001 source:(400, 17) loss:4.19627 lr:0.000133
step:3201 source:(400, 17) loss:4.1022 lr:0.000141
step:3401 source:(400, 17) loss:4.1057 lr:0.000150
step:3601 source:(400, 17) loss:4.04738 lr:0.000159
step:3801 source:(400, 17) loss:3.91396 lr:0.000168
epoch:15 test_bleu:67.92209148406982 template_bleu:63.916170597076416
epoch:15 train_bleu:67.3789381980896 template_bleu:63.75228762626648
step:4001 source:(400, 17) loss:3.9075 lr:0.000177
step:4201 source:(400, 17) loss:3.76997 lr:0.000186
step:4401 source:(400, 17) loss:3.75821 lr:0.000194
step:4601 source:(400, 17) loss:3.60847 lr:0.000203
step:4801 source:(400, 17) loss:3.62814 lr:0.000212
step:5001 source:(400, 17) loss:3.58874 lr:0.000221
step:5201 source:(400, 17) loss:3.51906 lr:0.000230
epoch:20 test_bleu:68.77866387367249 template_bleu:63.916170597076416
epoch:20 train_bleu:68.49190592765808 template_bleu:63.75228762626648
step:5401 source:(400, 17) loss:3.54557 lr:0.000239
step:5601 source:(400, 17) loss:3.45742 lr:0.000247
step:5801 source:(400, 17) loss:3.51674 lr:0.000256
step:6001 source:(400, 17) loss:3.36862 lr:0.000265
step:6201 source:(400, 17) loss:3.35606 lr:0.000274
step:6401 source:(400, 17) loss:3.29522 lr:0.000283
epoch:25 test_bleu:68.76306533813477 template_bleu:63.916170597076416
epoch:25 train_bleu:69.26957368850708 template_bleu:63.75228762626648
step:6601 source:(400, 17) loss:3.30629 lr:0.000292
step:6801 source:(400, 17) loss:3.35939 lr:0.000301
step:7001 source:(400, 17) loss:3.21547 lr:0.000309
step:7201 source:(400, 17) loss:3.2701 lr:0.000318
step:7401 source:(400, 17) loss:3.2007 lr:0.000327
step:7601 source:(400, 17) loss:3.17925 lr:0.000336
step:7801 source:(400, 17) loss:3.15573 lr:0.000345
epoch:30 test_bleu:69.13840770721436 template_bleu:63.916170597076416
epoch:30 train_bleu:70.14636993408203 template_bleu:63.75228762626648
step:8001 source:(400, 17) loss:3.14251 lr:0.000354
step:8201 source:(400, 17) loss:2.9971 lr:0.000362
step:8401 source:(400, 17) loss:2.98992 lr:0.000371
step:8601 source:(400, 17) loss:2.98052 lr:0.000380
step:8801 source:(400, 17) loss:2.91448 lr:0.000389
step:9001 source:(400, 17) loss:2.91182 lr:0.000398
epoch:35 test_bleu:68.94919872283936 template_bleu:63.916170597076416
epoch:35 train_bleu:71.51296138763428 template_bleu:63.75228762626648
step:9201 source:(400, 17) loss:3.01661 lr:0.000407
step:9401 source:(400, 17) loss:2.86953 lr:0.000415
step:9601 source:(400, 17) loss:2.77656 lr:0.000424
step:9801 source:(400, 17) loss:2.73971 lr:0.000433
step:10001 source:(400, 17) loss:2.74349 lr:0.000442
step:10201 source:(400, 17) loss:2.79981 lr:0.000438
step:10401 source:(400, 17) loss:2.77902 lr:0.000433
epoch:40 test_bleu:69.16326880455017 template_bleu:63.916170597076416
epoch:40 train_bleu:73.13413619995117 template_bleu:63.75228762626648
step:10601 source:(400, 17) loss:2.64927 lr:0.000429
step:10801 source:(400, 17) loss:2.55071 lr:0.000425
step:11001 source:(400, 17) loss:2.57924 lr:0.000421
step:11201 source:(400, 17) loss:2.49075 lr:0.000418
step:11401 source:(400, 17) loss:2.42942 lr:0.000414
step:11601 source:(400, 17) loss:2.30221 lr:0.000410
epoch:45 test_bleu:68.94023418426514 template_bleu:63.916170597076416
epoch:45 train_bleu:74.79149103164673 template_bleu:63.75228762626648
step:11801 source:(400, 17) loss:2.32964 lr:0.000407
step:12001 source:(400, 17) loss:2.3004 lr:0.000403
step:12201 source:(400, 17) loss:2.21493 lr:0.000400
step:12401 source:(400, 17) loss:2.23913 lr:0.000397
step:12601 source:(400, 17) loss:2.22216 lr:0.000394
step:12801 source:(400, 17) loss:2.11342 lr:0.000391
step:13001 source:(400, 17) loss:2.16013 lr:0.000388
epoch:50 test_bleu:68.63849759101868 template_bleu:63.916170597076416
epoch:50 train_bleu:77.0139753818512 template_bleu:63.75228762626648
step:13201 source:(400, 17) loss:2.08415 lr:0.000385
step:13401 source:(400, 17) loss:2.06541 lr:0.000382
step:13601 source:(400, 17) loss:2.01739 lr:0.000379
step:13801 source:(400, 17) loss:1.97547 lr:0.000376
step:14001 source:(400, 17) loss:1.97514 lr:0.000374
step:14201 source:(400, 17) loss:1.9013 lr:0.000371
epoch:55 test_bleu:68.80955100059509 template_bleu:63.916170597076416
epoch:55 train_bleu:82.37227201461792 template_bleu:63.75228762626648
step:14401 source:(400, 17) loss:1.93325 lr:0.000368
step:14601 source:(400, 17) loss:1.86732 lr:0.000366
step:14801 source:(400, 17) loss:1.82473 lr:0.000363
step:15001 source:(400, 17) loss:1.8112 lr:0.000361
step:15201 source:(400, 17) loss:1.8945 lr:0.000358
step:15401 source:(400, 17) loss:1.83984 lr:0.000356
step:15601 source:(400, 17) loss:1.77167 lr:0.000354
epoch:60 test_bleu:68.55295896530151 template_bleu:63.916170597076416
epoch:60 train_bleu:82.4974536895752 template_bleu:63.75228762626648
step:15801 source:(400, 17) loss:1.74599 lr:0.000352
step:16001 source:(400, 17) loss:1.77578 lr:0.000349
step:16201 source:(400, 17) loss:1.73235 lr:0.000347
step:16401 source:(400, 17) loss:1.76164 lr:0.000345
step:16601 source:(400, 17) loss:1.70915 lr:0.000343
step:16801 source:(400, 17) loss:1.75503 lr:0.000341
epoch:65 test_bleu:68.80177855491638 template_bleu:63.916170597076416
epoch:65 train_bleu:88.41801881790161 template_bleu:63.75228762626648
step:17001 source:(400, 17) loss:1.72316 lr:0.000339
step:17201 source:(400, 17) loss:1.68217 lr:0.000337
step:17401 source:(400, 17) loss:1.67987 lr:0.000335
step:17601 source:(400, 17) loss:1.64817 lr:0.000333
step:17801 source:(400, 17) loss:1.68604 lr:0.000331
step:18001 source:(400, 17) loss:1.68098 lr:0.000329
step:18201 source:(400, 17) loss:1.66824 lr:0.000328
epoch:70 test_bleu:68.92144083976746 template_bleu:63.916170597076416
epoch:70 train_bleu:91.421639919281 template_bleu:63.75228762626648
step:18401 source:(400, 17) loss:1.66151 lr:0.000326
step:18601 source:(400, 17) loss:1.65217 lr:0.000324
step:18801 source:(400, 17) loss:1.63775 lr:0.000322
step:19001 source:(400, 17) loss:1.64808 lr:0.000321
step:19201 source:(400, 17) loss:1.6111 lr:0.000319
step:19401 source:(400, 17) loss:1.62442 lr:0.000317
epoch:75 test_bleu:68.64871382713318 template_bleu:63.916170597076416
epoch:75 train_bleu:90.12793302536011 template_bleu:63.75228762626648
step:19601 source:(400, 17) loss:1.63146 lr:0.000316
step:19801 source:(400, 17) loss:1.61165 lr:0.000314
step:20001 source:(400, 17) loss:1.60375 lr:0.000312
step:20201 source:(400, 17) loss:1.58524 lr:0.000311
step:20401 source:(400, 17) loss:1.57521 lr:0.000309
step:20601 source:(400, 17) loss:1.60618 lr:0.000308
step:20801 source:(400, 17) loss:1.57148 lr:0.000306
epoch:80 test_bleu:68.93391609191895 template_bleu:63.916170597076416
epoch:80 train_bleu:87.7012550830841 template_bleu:63.75228762626648
step:21001 source:(400, 17) loss:1.60282 lr:0.000305
step:21201 source:(400, 17) loss:1.55969 lr:0.000304
step:21401 source:(400, 17) loss:1.5725 lr:0.000302
step:21601 source:(400, 17) loss:1.57715 lr:0.000301
step:21801 source:(400, 17) loss:1.54839 lr:0.000299
step:22001 source:(400, 17) loss:1.54275 lr:0.000298
epoch:85 test_bleu:68.79603266716003 template_bleu:63.916170597076416
epoch:85 train_bleu:90.42002558708191 template_bleu:63.75228762626648
step:22201 source:(400, 17) loss:1.55362 lr:0.000297
step:22401 source:(400, 17) loss:1.54572 lr:0.000295
step:22601 source:(400, 17) loss:1.55653 lr:0.000294
step:22801 source:(400, 17) loss:1.56255 lr:0.000293
step:23001 source:(400, 17) loss:1.55036 lr:0.000291
step:23201 source:(400, 17) loss:1.55419 lr:0.000290
step:23401 source:(400, 17) loss:1.53239 lr:0.000289
epoch:90 test_bleu:68.54786276817322 template_bleu:63.916170597076416
epoch:90 train_bleu:93.86178255081177 template_bleu:63.75228762626648
step:23601 source:(400, 17) loss:1.52735 lr:0.000288
step:23801 source:(400, 17) loss:1.518 lr:0.000286
step:24001 source:(400, 17) loss:1.50978 lr:0.000285
step:24201 source:(400, 17) loss:1.53068 lr:0.000284
step:24401 source:(400, 17) loss:1.53697 lr:0.000283
step:24601 source:(400, 17) loss:1.52429 lr:0.000282
epoch:95 test_bleu:68.5632586479187 template_bleu:63.916170597076416
epoch:95 train_bleu:93.83378028869629 template_bleu:63.75228762626648
step:24801 source:(400, 17) loss:1.51581 lr:0.000281
step:25001 source:(400, 17) loss:1.52032 lr:0.000280
step:25201 source:(400, 17) loss:1.53231 lr:0.000278
step:25401 source:(400, 17) loss:1.52536 lr:0.000277
step:25601 source:(400, 17) loss:1.50848 lr:0.000276
step:25801 source:(400, 17) loss:1.48685 lr:0.000275
step:26001 source:(400, 17) loss:1.51289 lr:0.000274
epoch:100 test_bleu:68.65772008895874 template_bleu:63.916170597076416
epoch:100 train_bleu:94.26324367523193 template_bleu:63.75228762626648
step:26201 source:(400, 17) loss:1.49174 lr:0.000273
step:26401 source:(400, 17) loss:1.51103 lr:0.000272
step:26601 source:(400, 17) loss:1.50767 lr:0.000271
step:26801 source:(400, 17) loss:1.51496 lr:0.000270
step:27001 source:(400, 17) loss:1.52803 lr:0.000269
step:27201 source:(400, 17) loss:1.49852 lr:0.000268
step:27401 source:(400, 17) loss:1.49128 lr:0.000267
epoch:105 test_bleu:68.77137422561646 template_bleu:63.916170597076416
epoch:105 train_bleu:93.79258751869202 template_bleu:63.75228762626648
step:27601 source:(400, 17) loss:1.50109 lr:0.000266
step:27801 source:(400, 17) loss:1.49421 lr:0.000265
step:28001 source:(400, 17) loss:1.49523 lr:0.000264
step:28201 source:(400, 17) loss:1.49163 lr:0.000263
step:28401 source:(400, 17) loss:1.49174 lr:0.000262
step:28601 source:(400, 17) loss:1.51442 lr:0.000261
epoch:110 test_bleu:68.56122016906738 template_bleu:63.916170597076416
epoch:110 train_bleu:95.43400406837463 template_bleu:63.75228762626648
step:28801 source:(400, 17) loss:1.49665 lr:0.000260
step:29001 source:(400, 17) loss:1.48487 lr:0.000260
step:29201 source:(400, 17) loss:1.48381 lr:0.000259
step:29401 source:(400, 17) loss:1.50541 lr:0.000258
step:29601 source:(400, 17) loss:1.48975 lr:0.000257
step:29801 source:(400, 17) loss:1.48143 lr:0.000256
step:30001 source:(400, 17) loss:1.47996 lr:0.000255
epoch:115 test_bleu:68.7800943851471 template_bleu:63.916170597076416
epoch:115 train_bleu:96.03985548019409 template_bleu:63.75228762626648
step:30201 source:(400, 17) loss:1.48637 lr:0.000254
step:30401 source:(400, 17) loss:1.47568 lr:0.000253
step:30601 source:(400, 17) loss:1.48747 lr:0.000253
step:30801 source:(400, 17) loss:1.48636 lr:0.000252
step:31001 source:(400, 17) loss:1.4957 lr:0.000251
step:31201 source:(400, 17) loss:1.48527 lr:0.000250
epoch:120 test_bleu:68.49846839904785 template_bleu:63.916170597076416
epoch:120 train_bleu:95.57711482048035 template_bleu:63.75228762626648
step:31401 source:(400, 17) loss:1.47632 lr:0.000249
step:31601 source:(400, 17) loss:1.4865 lr:0.000249
step:31801 source:(400, 17) loss:1.46599 lr:0.000248
step:32001 source:(400, 17) loss:1.47561 lr:0.000247
step:32201 source:(400, 17) loss:1.47455 lr:0.000246
step:32401 source:(400, 17) loss:1.48132 lr:0.000246
step:32601 source:(400, 17) loss:1.46916 lr:0.000245
epoch:125 test_bleu:68.83735656738281 template_bleu:63.916170597076416
epoch:125 train_bleu:96.08336687088013 template_bleu:63.75228762626648
step:32801 source:(400, 17) loss:1.48168 lr:0.000244
step:33001 source:(400, 17) loss:1.47803 lr:0.000243
step:33201 source:(400, 17) loss:1.4695 lr:0.000243
step:33401 source:(400, 17) loss:1.49 lr:0.000242
step:33601 source:(400, 17) loss:1.4824 lr:0.000241
step:33801 source:(400, 17) loss:1.47063 lr:0.000240
epoch:130 test_bleu:68.7948226928711 template_bleu:63.916170597076416
epoch:130 train_bleu:96.56602144241333 template_bleu:63.75228762626648
step:34001 source:(400, 17) loss:1.47505 lr:0.000240
step:34201 source:(400, 17) loss:1.4832 lr:0.000239
step:34401 source:(400, 17) loss:1.47387 lr:0.000238
step:34601 source:(400, 17) loss:1.46989 lr:0.000238
step:34801 source:(400, 17) loss:1.45934 lr:0.000237
step:35001 source:(400, 17) loss:1.47619 lr:0.000236
step:35201 source:(400, 17) loss:1.46687 lr:0.000236
epoch:135 test_bleu:68.73595714569092 template_bleu:63.916170597076416
epoch:135 train_bleu:96.4819610118866 template_bleu:63.75228762626648
step:35401 source:(400, 17) loss:1.4769 lr:0.000235
step:35601 source:(400, 17) loss:1.45949 lr:0.000234
step:35801 source:(400, 17) loss:1.47729 lr:0.000234
step:36001 source:(400, 17) loss:1.45322 lr:0.000233
step:36201 source:(400, 17) loss:1.46388 lr:0.000232
step:36401 source:(400, 17) loss:1.46724 lr:0.000232
epoch:140 test_bleu:68.89300346374512 template_bleu:63.916170597076416
epoch:140 train_bleu:97.3171055316925 template_bleu:63.75228762626648
step:36601 source:(400, 17) loss:1.46071 lr:0.000231
step:36801 source:(86, 17) loss:1.44424 lr:0.000230
step:37001 source:(400, 17) loss:1.48575 lr:0.000230
step:37201 source:(400, 17) loss:1.47693 lr:0.000229
step:37401 source:(400, 17) loss:1.45946 lr:0.000229
step:37601 source:(400, 17) loss:1.47458 lr:0.000228
step:37801 source:(400, 17) loss:1.46559 lr:0.000227
epoch:145 test_bleu:68.9401626586914 template_bleu:63.916170597076416
epoch:145 train_bleu:96.00500464439392 template_bleu:63.75228762626648
step:38001 source:(400, 17) loss:1.47511 lr:0.000227
step:38201 source:(400, 17) loss:1.46093 lr:0.000226
step:38401 source:(400, 17) loss:1.47441 lr:0.000226
step:38601 source:(400, 17) loss:1.46994 lr:0.000225
step:38801 source:(400, 17) loss:1.43963 lr:0.000224
epoch:149 test_bleu:68.63750219345093 template_bleu:63.916170597076416
epoch:149 train_bleu:97.32983112335205 template_bleu:63.75228762626648
step:39001 source:(400, 17) loss:1.44812 lr:0.000224
/home/syp/miniconda2/envs/newtf/lib/python3.6/importlib/_bootstrap.py:205: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
